<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../../bower_components/paper-menu/paper-menu.html">
<link rel="import" href="../menu-elements/page-menu-item.html">

<dom-module id="page-menu">
  <style>
    a {
      color: #000000;
      text-decoration: none;
    }
  </style>
  <template>
    <paper-menu id="menu" attr-for-selected="data-route" selected="[[route]]" on-iron-select="onMenuSelect">
      <page-menu-item icon="home" data-route="home" path="/" on-tap="onMenuItemTap">
        Home
      </page-menu-item>

      <page-menu-item id="projects" icon="cloud" data-route="projects" path="/projects" on-tap="onMenuItemTap">
        Projects
      </page-menu-item>
    </paper-menu>
  </template>
</dom-module>

<script>
  Polymer({
    is: "page-menu",
    properties: {
      route: {
        type: String
      }
    },
    onMenuSelect: function() {
      var drawerPanel = document.querySelector("#drawerPanel");

      if (drawerPanel && drawerPanel.narrow)
      {
        drawerPanel.closeDrawer();
      }
    },
    onMenuItemTap: function(e) {
      var path = e.currentTarget.attributes.path.value;

      if (path && typeof path === "string" && path !== "")
      {
        page(path);
      }
    }
  });
</script>
