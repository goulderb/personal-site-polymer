<link rel="import" href="/bower_components/polymer/polymer.html">
<link rel="import" href="/bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="/elements/project-elements/project-element.html">

<dom-module id="project-page">
  <template>
    <iron-ajax auto url="{{projectUrl}}" handle-as="json" last-response="{{projectData}}"></iron-ajax>

    <project-element project="[[projectData]]"></project-element>
  </template>
</dom-module>

<script>
  Polymer({
    is: "project-page",
    properties: {
      params: {
        type: Object
      },
      projectUrl: {
        type: String,
        computed: 'getProjectUrl(params.name)'
      }
    },
    getProjectUrl: function (name) {
      return "/static_content/" + name + ".json";
    }
  });
</script>
